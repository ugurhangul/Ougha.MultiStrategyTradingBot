# MT5 Connection Settings
MT5_LOGIN=your_account_number
MT5_PASSWORD=your_password
MT5_SERVER=your_broker_server

# ============================================================================
# STRATEGY ENABLE/DISABLE CONFIGURATION
# ============================================================================
# Control which strategies are active. Multiple strategies can run simultaneously.
# Uses plugin-based architecture with MultiStrategyOrchestrator for dynamic strategy loading.

# === Breakout Strategies ===
# True Breakout: High volume breakout with retest confirmation
TRUE_BREAKOUT_ENABLED=true

# Fakeout: Low volume breakout reversal strategy
FAKEOUT_ENABLED=true

# === HFT Strategies ===
# HFT Momentum: High-frequency tick momentum strategy (HIGH RISK)
# WARNING: Only enable if you understand the risks
HFT_MOMENTUM_ENABLED=false

# === Position Sizing Configuration ===
# Choose position sizing method for each strategy
# Options: "fixed" (default - standard risk-based sizing), "martingale" (high risk - increases after losses)
# WARNING: Martingale position sizing can lead to large drawdowns. Use with caution!
#
# Recommended settings:
# - Conservative: Use "fixed" for all strategies (predictable risk)
# - Moderate: Use "fixed" for breakout strategies, "martingale" for HFT Momentum only
# - Aggressive: Use "martingale" for all strategies (NOT RECOMMENDED - very high risk)
TRUE_BREAKOUT_POSITION_SIZER=fixed
FAKEOUT_POSITION_SIZER=fixed
HFT_MOMENTUM_POSITION_SIZER=martingale

# === Multi-Range Support ===
# Enable/disable specific range configurations for breakout strategies
# 4H_5M: 4-hour reference candle, 5-minute confirmation
RANGE_4H5M_ENABLED=true

# 15M_1M: 15-minute reference candle, 1-minute confirmation
RANGE_15M1M_ENABLED=true

# ============================================================================
# STRATEGY SETTINGS
# ============================================================================
ENTRY_OFFSET_PERCENT=0.01
RISK_REWARD_RATIO=2.0

# Stop Loss Configuration
# IMPORTANT: Choose between point-based (recommended) or percentage-based stop loss calculation
# 
# Point-based SL (RECOMMENDED):
# - Provides consistent risk across all symbols regardless of price scale
# - 100 points = 10 pips for most forex pairs (5-digit quotes)
# - 100 points = 1 pip for JPY pairs (3-digit quotes)
# - 100 points = 0.10 for gold/XAUUSD
# - Automatically adjusts to each symbol's point value
USE_POINT_BASED_SL=true
STOP_LOSS_OFFSET_POINTS=100

# Percentage-based SL (LEGACY - not recommended):
# - Creates inconsistent risk across different symbols
# - 2% of EURUSD (1.10) = 0.022 (220 pips)
# - 2% of XAUUSD (2000) = 40.0 (4000 pips) - TOO LARGE!
# - 2% of USDJPY (150) = 3.0 (300 pips) - TOO LARGE!
# Only used when USE_POINT_BASED_SL=false
STOP_LOSS_OFFSET_PERCENT=0.02

# Risk Management
RISK_PERCENT_PER_TRADE=1.0
# MAX_LOT_SIZE: Set to "MIN" to use symbol's minimum lot size, or a specific value (e.g., 10.0)
MAX_LOT_SIZE=10.0
# MIN_LOT_SIZE: Set to "MIN" to use symbol's minimum lot size, or a specific value (e.g., 0.01)
MIN_LOT_SIZE=0.01
MAX_POSITIONS=10

# Volume Confirmation
BREAKOUT_VOLUME_MAX_MULTIPLIER=1.0
REVERSAL_VOLUME_MIN_MULTIPLIER=1.5
VOLUME_AVERAGE_PERIOD=20

# Divergence Settings
RSI_PERIOD=14
MACD_FAST=12
MACD_SLOW=26
MACD_SIGNAL=9
DIVERGENCE_LOOKBACK=20

# Adaptive Filter System
USE_ADAPTIVE_FILTERS=true
ADAPTIVE_LOSS_TRIGGER=3
ADAPTIVE_WIN_RECOVERY=2
START_WITH_FILTERS_ENABLED=false

# Symbol-Level Adaptation
USE_SYMBOL_ADAPTATION=true
SYMBOL_MIN_TRADES=10
SYMBOL_MIN_WIN_RATE=30.0
SYMBOL_MAX_LOSS=-100.0
SYMBOL_MAX_CONSECUTIVE_LOSSES=5
SYMBOL_COOLING_PERIOD_DAYS=7

# Advanced Settings
USE_ONLY_00_UTC_CANDLE=false
ENABLE_DETAILED_LOGGING=false

# ============================================================================
# TRADING SESSION CHECKING
# ============================================================================
# Uses broker's actual market hours from MT5 to determine when symbols can trade.
# This prevents attempting to trade symbols outside their designated trading sessions.

# CHECK_SYMBOL_SESSION: Check if symbol is in active trading session before initialization
# - true (RECOMMENDED): Only initialize symbols that are currently in their trading session
#   Uses MT5's real-time session data (tick freshness, trade mode, etc.)
# - false: Initialize all symbols regardless of session status (not recommended)
CHECK_SYMBOL_SESSION=true

# WAIT_FOR_SESSION: Enable background monitoring for inactive symbols
# - false: Skip symbols that are not in active trading session immediately
# - true (RECOMMENDED): Start background monitoring for inactive symbols
#   * Active symbols initialize and trade immediately (no blocking!)
#   * Inactive symbols are monitored in background threads
#   * When an inactive symbol's session starts, it's automatically initialized and starts trading
#   * No manual intervention needed - fully automated
# Only applies when CHECK_SYMBOL_SESSION=true
WAIT_FOR_SESSION=true

# SESSION_WAIT_TIMEOUT_MINUTES: Maximum time to monitor each inactive symbol
# - Only used when WAIT_FOR_SESSION=true
# - 0 (RECOMMENDED): Monitor indefinitely until symbol enters trading session
# - >0: Monitor up to specified minutes, then stop monitoring if still inactive
SESSION_WAIT_TIMEOUT_MINUTES=0

# SESSION_CHECK_INTERVAL_SECONDS: How often to check session status for inactive symbols
# - Only used when WAIT_FOR_SESSION=true
# - Lower values: More responsive but more API calls
# - Higher values: Less API calls but slower to detect session start
# Recommended: 60 seconds (1 minute)
SESSION_CHECK_INTERVAL_SECONDS=60

# CLOSE_POSITIONS_BEFORE_SESSION_END: Auto-close positions when session is ending
# - true (RECOMMENDED): Automatically close positions when MT5 reports CLOSEONLY mode
#   This happens when the broker is about to close the market for the symbol
# - false: Keep positions open (may result in positions held during market close)
CLOSE_POSITIONS_BEFORE_SESSION_END=true

# CLOSE_POSITIONS_MINUTES_BEFORE_END: Minutes before session end to close positions
# - Only used when CLOSE_POSITIONS_BEFORE_SESSION_END=true
# - Note: This setting is currently only used as a reference value
#   Actual closing is triggered by MT5's CLOSEONLY trade mode
CLOSE_POSITIONS_MINUTES_BEFORE_END=10

# Telegram Bot (Optional)
TELEGRAM_BOT_TOKEN=your_bot_token
TELEGRAM_CHAT_ID=your_chat_id

